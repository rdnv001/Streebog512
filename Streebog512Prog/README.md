# Документация к программе `Streebog512Prog`

# src
В данной директории находится программа, которая демонстрирует работу с [HMAC](https://tc26.ru/standard/rs/Р%2050.1.113-2016.pdf)-алгоритмами, реализованными в библиотеке [libakrypt](https://git.miem.hse.ru/axelkenzo/libakrypt-0.x). Программа выполняет следующие основные действия:

1. Создаёт объект контекста для HMAC-алгоритма (`hmac-streebog512`).
2. Устанавливает ключ для HMAC на основе пароля и начального вектора.
3. Генерирует HMAC для заданных данных.
4. Выводит результат HMAC в шестнадцатеричном формате, включая метаинформацию.

Программа написана на языке C и использует библиотеку `libakrypt` для криптографических операций.

### Функция function
`void function(ak_hmac ctx);`

Эта функция выполняет основную криптографическую операцию:
1. Устанавливает ключ для контекста HMAC.
2. Вычисляет значение HMAC для переданных данных.
3. Выводит результат HMAC и метаинформацию.

__Параметры__:
`ctx` — Контекст HMAC, созданный ранее.

__Входные данные__:
1. Пароль: `"password"`, длиной 8 байт.
2. Начальный вектор (seed): `"seed"`, длиной 4 байта.
3. Данные для HMAC: `"data"`, длиной 4 байта.

__Выходные данные__: Значение HMAC в шестнадцатеричном формате, дополненное именем и ID алгоритма.

---

## Требования

### Зависимости

- Компилятор C++ (например, `g++`, `clang`).
- Библиотека `libakrypt`.
- Linux или Unix-подобная операционная система.

### Сборка и запуск программы

Собрать программу можно следующим образом:

1. Выполнить команду, находясь внутри директории Streebog512: 

        cmake . -B ./build/ && cmake —build ./build/

2. После чего необходимо перейти в директорию ``./build``
3. Проверить наличие в ней исполняемого файла ``streebog512`` с помощью утилиты ``ls``. 
4. И, наконец, запустить исполняемый файл ``streebog512``: 
    
        ./streebog512
5. В консоль должна вывестись строка вида: 
        
        fba031c50ad7785a690ab64fe5cffda4a0b73373e2ef7f158cd1a34da0d40a6c4fde4bccc906b3b7590ba918b801a35fabd7d66fcaca6e6c8b2cbe3ed0f6bff4 (64 bytes: hmac-streebog512, 1.2.643.7.1.1.4.2)
    где: 
        
    - Строка, состоящая из 64 Байт - это результат вычисления HMAC с использованием криптографической хэш-функции Стрибог-512 (конкатенация ключей K_1 || K_2) ,
    - Длина - результат вычисления составляет 64 байта, что соответствует выходному размеру хэш-функции Стрибог-512.
    - OID, идентификатор объекта.
  
# gentest 
Данная директория содержит программу, которая генерирует файлы с выборками для дальнейших тестов на корреляцию. 

Для компиляции программы необходимы библиотеки `OpenSSL` и `libakrypt`
Строго рекомендуется компилировать командой:

        g++ -O3 -fopenmp gentest.cpp -L/usr/lib -lakrypt -lcrypto -o my_program